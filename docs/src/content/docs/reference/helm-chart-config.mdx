---
title: 'Helm chart config'
description: A reference of config fields for the Loculus Helm chart
---

import SchemaDocs from '../../../components/SchemaDocs.astro';

:::note
The config structure has not been finalized and may change rapidly until Loculus 1.0 is officially released (see [current state and roadmap](../../introduction/current-state-and-roadmap/)). In the meantime, this reference might also not be fully accurate or complete.
:::

The configuration for the Helm chart is provided as a YAML file. It has the following fields:

## General Settings

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='general' fieldColumnClass='w-56' />

<div className='overflow-x-scroll'>
    <table className='min-w-[700px]'>
        <thead>
        <tr>
            <th className='w-56'>Field</th>
            <th>Type</th>
            <th className='w-32'>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>`dataUseTerms.enabled`</td>
            <td>Boolean</td>
            <td>true</td>
            <td>Whether this Loculus instance handles data use terms.</td>
        </tr>
        <tr>
            <td>`dataUseTerms.urls.open`</td>
            <td>String</td>
            <td></td>
            <td>A URL describing the open data use terms.</td>
        </tr>
        <tr>
            <td>`dataUseTerms.urls.restricted`</td>
            <td>String</td>
            <td></td>
            <td>A URL describing the restricted data use terms.</td>
        </tr>
        </tbody>
    </table>
</div>

## Website Settings

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='website' fieldColumnClass='w-56' />

## User registration and authentication

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='auth' fieldColumnClass='w-56' />

## Database deployments

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='db' fieldColumnClass='w-72' />

For production environments, these should always be set to false. Instead, external managed databases should be used.

## Services

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='services' fieldColumnClass='w-48' />

## Organism Configuration

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='organism-conf' fieldColumnClass='w-48' />

### Lineage system definitions

Here's an example of a `lineageDefinitions` section:

```yaml
lineageSystemDefinitions:
    pangoLineage: # Lineage name to use in metadata fields
        1: https://example.org/lineage_defintions_v1.yaml # Definition per pipeline version
        2: https://example.org/lineage_defintions_v2.yaml
    myLineage:
        1: ...
```

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='lineage-system-definitions' fieldColumnClass='w-48' />

### Organism (type)

Each organism object has the following fields:

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='organism' fieldColumnClass='w-48' />

### Schema (type)

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='schema' fieldColumnClass='w-60' />

### Metadata (type)

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='metadata' fieldColumnClass='w-56' />

### Preprocessing (type)

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='preprocessing' fieldColumnClass='w-48' />

<table>
    <thead>
        <tr>
            <th className='w-48'>Field</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>`version`</td>
            <td>Integer</td>
            <td></td>
            <td>Version of the preprocessing pipeline</td>
        </tr>
        <tr>
            <td>`image`</td>
            <td>String</td>
            <td></td>
            <td>Docker image for the preprocessing pipeline</td>
        </tr>
        <tr>
            <td>`args`</td>
            <td>Array of strings</td>
            <td></td>
            <td>Arguments passed to the preprocessing pipeline</td>
        </tr>
        <tr>
            <td>`configFile`</td>
            <td>Object</td>
            <td></td>
            <td>Fields that should be added to the preprocessing pipeline config file</td>
        </tr>
    </tbody>
</table>

The values for `args` and `configFile` depend on the used preprocessing pipeline. For the Nextclade preprocessing pipeline, please see [here](../../for-administrators/existing-preprocessing-pipelines/#nextclade-based-pipeline).

### Ingest (type)

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='ingest' fieldColumnClass='w-48' />

<table>
    <thead>
        <tr>
            <th className='w-48'>Field</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>`image`</td>
            <td>"ghcr.io/loculus-project/ingest"</td>
            <td></td>
            <td>Docker image for the ingest pipeline</td>
        </tr>
        <tr>
            <td>`configFile`</td>
            <td>Object</td>
            <td></td>
            <td>Fields that should be added to the ingest pipeline config file</td>
        </tr>
    </tbody>
</table>

The values for `configFile` depend on the used preprocessing pipeline. For [our ingest pipeline](https://github.com/loculus-project/loculus/tree/main/ingest) which downloads data from NCBI GenBank using NCBI Datasets, the config file needs to contain the taxon_id of the organism and additionally, if the organism is multi-segmented, it requires a list of segment names (nucleotide_sequences) and the nextclade_dataset that can be used for segment identification and alignment.

### NucleotideSequence (type)

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='nucleotide-sequence' fieldColumnClass='w-48' />

### Gene (type)

<SchemaDocs schemaPath='../kubernetes/loculus/values.schema.json' group='gene' fieldColumnClass='w-48' />

environment: server
crossRef:
  DOIPrefix: "10.62599"
  testEndpoint: "https://test.crossref.org"
  liveEndpoint: "https://doi.crossref.org"
disableWebsite: false
disableBackend: false
disablePreprocessing: false
disableIngest: false
siloImportLimitSeconds: 3600
ingestLimitSeconds: 1800
preprocessingTimeout: 600
accessionPrefix: "LOC_"
dataUseTermsUrls:
  open: https://#TODO-MVP/open
  restricted: https://#TODO-MVP/restricted
name: "Loculus"
logo:
  url: "/favicon.svg"
  width: 100
  height: 100
defaultOrganismConfig: &defaultOrganismConfig
  schema: &schema
    loadSequencesAutomatically: true
    organismName: "Ebola Zaire"
    image: "https://cdn.britannica.com/01/179201-050-FED1B381/filamentous-ebolavirus-particles-scanning-electron-micrograph-cell.jpg?w=400&h=300&c=crop"
    ### Field list
    ## General fields
    # name: Key used across app to refer to this field (required)
    # displayName: Name displayed to users (optional) | used by website (for input and details)
    # type: Type of field (default: "string")
    # required: Whether the field is required by backend (default false) | used by input, backend, preprocessing
    ## Input related
    # noInput: Whether the field should not be input by the user)
    # definition
    # guidance
    # example
    # ontology_id
    ## Sequence details UI related
    # header: Grouping of fields in sequence details UI (default: "Other")
    # hideOnSequenceDetailsPage: Whether the field should be hidden on the sequence details page (default false)
    # customDisplay: Custom display dict for the field
    #     type: Enum with values "link"
    #     url: URL to link to with template __value__ for the field value: "https://www.ncbi.nlm.nih.gov/nuccore/__value__"
    ## SearchUI related
    # initiallyVisible: Whether it appear in searchUI by default (default false)
    # generateIndex: Whether the field should be indexed for search (default false, only allowed for string fields)
    # autocomplete: Whether the field should be used for search autocomplete (default false, only allowed for string fields and probably generateIndex should be true)
    ## Ingest related
    # ingest: Which NCBI field to map to this field (optional)
    ## Preprocessing related
    # preprocessing: Preprocessing function to run on the field (optional: defaults to identity function on input field with same name)

    ## TODO: Allow extra metadata field by particular organisms (e.g. clade/lineage)
    metadata:
      - name: sample_collection_date
        displayName: Collection date
        type: date
        initiallyVisible: true
        header: Sample details
        ingest: ncbi_collection_date
        preprocessing:
          function: process_date
          inputs:
            date: sample_collection_date
            release_date: ncbi_release_date
      - name: ncbi_release_date
        displayName: NCBI release date
        type: date
        header: "INSDC"
        preprocessing:
          function: parse_timestamp
          inputs:
            timestamp: ncbi_release_date
        noInput: true
      - name: ncbi_update_date
        type: date
        displayName: NCBI update date
        header: "INSDC"
        preprocessing:
          function: parse_timestamp
          inputs:
            timestamp: ncbi_update_date
        noInput: true
      - name: geo_loc_country
        displayName: Collection country
        generateIndex: true
        autocomplete: true
        initiallyVisible: true
        header: Sample details
        ingest: country
      - name: geo_loc_admin_1
        displayName: Collection subdivision level 1
        generateIndex: true
        autocomplete: true
        initiallyVisible: true
        header: Sample details
        ingest: division
      - name: geo_loc_admin_2
        displayName: Collection subdivision level 2
        generateIndex: true
        autocomplete: true
        header: Sample details
      - name: geo_loc_city
        displayName: Collection city
        generateIndex: true
        autocomplete: true
        header: Sample details
      - name: geo_loc_site
        ontology_id: GENEPIO:0100436
        definition: The name of a specific geographical location e.g. Credit River (rather
          than river).
        guidance: Provide the name of the specific geographical site using a specific noun
          (a word that names a certain place, thing).
        example: Credit River
        displayName: Collection site
        header: Sample details
      - name: specimen_collector_sample_id
        displayName: Isolate name
        header: Sample details
        ingest: ncbi_isolate_name
      - name: authors
        displayName: Authors
        type: authors
        header: Authors
        truncateColumnDisplayTo: 15
        ingest: ncbi_submitter_names
      - name: author_affiliations
        displayName: Author affiliations
        generateIndex: true
        autocomplete: true
        truncateColumnDisplayTo: 15
        header: Authors
        ingest: ncbi_submitter_affiliation
      - name: ncbi_submitter_country
        displayName: NCBI submitter country
        generateIndex: true
        autocomplete: true
        hideOnSequenceDetailsPage: true
        noInput: true
        header: "INSDC"
      - name: insdc_accession_base
        header: "INSDC"
        hideOnSequenceDetailsPage: true
        noInput: true
      - name: insdc_version
        type: int
        header: "INSDC"
        hideOnSequenceDetailsPage: true
        noInput: true
      - name: insdc_accession_full
        displayName: INSDC accession
        customDisplay:
          type: link
          url: "https://www.ncbi.nlm.nih.gov/nuccore/__value__"
        header: "INSDC"
        ingest: genbank_accession
        noInput: true
      - name: bioproject_accessions
        customDisplay:
          type: link
          url: "https://www.ncbi.nlm.nih.gov/bioproject/__value__"
        header: "INSDC"
        ingest: bioprojects
      - name: biosample_accession
        customDisplay:
          type: link
          url: "https://www.ncbi.nlm.nih.gov/biosample/__value__"
        header: "INSDC" 
        noInput: true
      - name: culture_id
        displayName: Culture ID
        header: Sample details
      - name: sample_received_date
        ontology_id: GENEPIO:0001177
        definition: The date on which the sample was received by the laboratory.
        guidance: Alternative if "sample_collection_date" is not available. Record the date the sample was received by the laboratory. 
          Required granularity includes year, month and day. Before sharing this data, ensure this date is not
          considered identifiable information. If this date is considered identifiable,
          it is acceptable to add "jitter" to the received date by adding or subtracting
          calendar days. Do not change the received date in your original records. Alternatively,
          collection_date may be used as a substitute in the data you share.
          The date should be provided in ISO 8601 standard format "YYYY-MM-DD".
        example: '2020-03-20'
        displayName: Sample Received Date
        type: date
        preprocessing:
          function: process_date
          inputs:
            date: sample_received_date
        header: Sample details
      - name: sample_type
        displayName: Sample type
        header: Sampling
      - name: purpose_of_sampling
        ontology_id: GENEPIO:0001198
        definition: The reason that the sample was collected.
        guidance: Select a value from the pick list in the template
        example: Diagnostic testing
        header: Sampling
      - name: presampling_activity
        ontology_id: GENEPIO:0100433
        definition: The activities or variables introduced upstream of sample collection
          that may affect the sample collected.
        guidance: If there was presampling activity that would affect the sample prior to
          collection (this is different than sample processing which happens after the sample
          is collected), provide the experimental activities by selecting one or more values
          from the template pick list. If the information is unknown or cannot be provided,
          leave blank or provide a null value.
        example: Antimicrobial pre-treatment [GENEPIO:0100537]
        displayName: Presampling activity
        header: Sampling
      - name: anatomical_material
        ontology_id: GENEPIO:0001211
        definition: A substance obtained from an anatomical part of an organism e.g. tissue,
          blood.
        guidance: 'Provide a descriptor if an anatomical material was sampled. Use the pick
          list provided in the template. If a desired term is missing from the pick list,
          use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/uberon.
          If not applicable, leave blank.'
        example: Blood [UBERON:0000178]
        displayName: Anatomical material
        header: Sampling
      - name: anatomical_part
        ontology_id: GENEPIO:0001214
        definition: An anatomical part of an organism e.g. oropharynx.
        guidance: 'Provide a descriptor if an anatomical part was sampled. Use the pick
          list provided in the template. If a desired term is missing from the pick list,
          use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/uberon.
          If not applicable, leave blank.'
        example: Nasopharynx (NP) [UBERON:0001728]
        displayName: Anatomical part
        header: Sampling
      - name: body_product
        ontology_id: GENEPIO:0001216
        definition: A substance excreted/secreted from an organism e.g. feces, urine, sweat.
        guidance: 'Provide a descriptor if a body product was sampled. Use the pick list
          provided in the template. If a desired term is missing from the pick list, use
          this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/uberon.
          If not applicable, leave blank.'
        example: Feces [UBERON:0001988]
        displayName: Body product
        header: Sampling
      - name: environmental_material
        ontology_id: GENEPIO:0001223
        definition: A substance obtained from the natural or man-made environment e.g. soil,
          water, sewage, door handle, bed handrail, face mask.
        guidance: 'Provide a descriptor if an environmental material was sampled. Use the
          pick list provided in the template. If a desired term is missing from the pick
          list, use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/envo.
          If not applicable, leave blank.'
        example: Face mask [OBI:0002787]
        displayName: Environmental material
        header: Sampling
      - name: environmental_site
        ontology_id: GENEPIO:0001232
        definition: An environmental location may describe a site in the natural or built
          environment e.g. hospital, wet market, bat cave.
        guidance: 'Provide a descriptor if an environmental site was sampled. Use the pick
          list provided in the template. If a desired term is missing from the pick list,
          use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/envo.
          If not applicable, leave blank.'
        example: Hospital [ENVO:00002173]
        displayName: Environmental site
        header: Sampling
      - name: collection_device
        ontology_id: GENEPIO:0001234
        definition: The instrument or container used to collect the sample e.g. swab.
        guidance: 'Provide a descriptor if a collection device was used for sampling. Use
          the pick list provided in the template. If a desired term is missing from the
          pick list, use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/obi.
          If not applicable, leave blank.'
        example: Swab [GENEPIO:0100027]
        displayName: Collection device
        header: Sampling
      - name: collection_method
        ontology_id: GENEPIO:0001241
        definition: The process used to collect the sample e.g. phlebotomy, necropsy.
        guidance: 'Provide a descriptor if a collection method was used for sampling. Use
          the pick list provided in the template. If a desired term is missing from the
          pick list, use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/obi.
          If not applicable, leave blank.'
        example: Bronchoalveolar lavage (BAL) [GENEPIO:0100032]
        displayName: Collection method
        header: Sampling
      - name: food_product
        ontology_id: GENEPIO:0100444
        definition: A material consumed and digested for nutritional value or enjoyment.
        guidance: This field includes animal feed. If applicable, select the standardized
          term and ontology ID for the anatomical material from the picklist provided. Multiple
          values can be provided, separated by a semi-colon.
        example: Feather meal [FOODON:00003927]; Bone meal [ENVO:02000054]; Chicken breast
          [FOODON:00002703]
        displayName: Food Product
        header: Sampling
      - name: food_product_properties
        ontology_id: GENEPIO:0100445
        definition: Any characteristic of the food product pertaining to its state, processing,
          a label claim, or implications for consumers.
        guidance: Provide any characteristics of the food product including whether it has
          been cooked, processed, preserved, any known information about its state (e.g.
          raw, ready-to-eat), any known information about its containment (e.g. canned),
          and any information about a label claim (e.g. organic, fat-free).
        example: Food (chopped) [FOODON:00002777]; Ready-to-eat (RTE) [FOODON:03316636]
        displayName: Food Product Properties
        header: Sampling
      - name: specimen_processing
        ontology_id: GENEPIO:0100435
        definition: The processing applied to samples post-collection, prior to further
          testing, characterization, or isolation procedures.
        guidance: Provide the sample processing information by selecting a value from the
          template pick list. If the information is unknown or cannot be provided, leave
          blank or provide a null value.
        example: Samples pooled [OBI:0600016]
        displayName: Specimen Processing
        header: Specimen processing
      - name: specimen_processing_details
        ontology_id: GENEPIO:0100311
        definition: Detailed information regarding the processing applied to a sample during
          or after receiving the sample.
        guidance: Provide a free text description of any processing details applied to a
          sample.
        example: 25 swabs were pooled and further prepared as a single sample during library
          prep.
        displayName: Specimen Processing Details
        header: Specimen processing
      - name: experimental_specimen_role_type
        ontology_id: GENEPIO:0100921
        definition: The type of role that the sample represents in the experiment.
        guidance: Samples can play different types of roles in experiments. A sample under
          study in one experiment may act as a control or be a replicate of another sample
          in another experiment. This field is used to distinguish samples under study from
          controls, replicates, etc.  If the sample acted as an experimental control or
          a replicate, select a role type from the picklist. If the sample was not a control,
          leave blank or select "Not Applicable".
        example: Positive experimental control [GENEPIO:0101018]
        displayName: Experimental Specimen Role  Type
        header: Specimen processing
      - name: host_age
        ontology_id: GENEPIO:0001392
        definition: Age of host at the time of sampling.
        guidance: If known, provide age. Age-binning is also acceptable.
        example: '79'
        displayName: Host Age
        type: int
        header: Host
        rangeSearch: true
      - name: host_age_bin
        ontology_id: GENEPIO:0001394
        definition: The age category of the host at the time of sampling.
        guidance: Age bins in 10 year intervals have been provided. If a host's age cannot
          be specified due to provacy concerns, an age bin can be used as an alternative.
        example: 50 - 59 [GENEPIO:0100054]
        displayName: Host Age Bin
        header: Host
      - name: host_gender
        ontology_id: GENEPIO:0001395
        definition: The gender of the host at the time of sample collection.
        guidance: If known, select a value from the pick list.
        example: Male [NCIT:C46109]
        displayName: Host Gender
        header: Host
      - name: host_origin_country
        ontology_id: GENEPIO:0100438
        definition: The country of origin of the host.
        guidance: If a sample is from a human or animal host that originated from outside
          of Canada, provide the the name of the country where the host originated by selecting
          a value from the template pick list. If the information is unknown or cannot be
          provided, leave blank or provide a null value.
        example: South Africa [GAZ:00001094]
        displayName: Host Origin Country
        header: Host
      - name: host_disease
        ontology_id: GENEPIO:0001391
        definition: The name of the disease experienced by the host.
        guidance: "This field is only required if the Pathogen.cl package was selected.
          If the host was sick, provide the name of the disease.The standardized term
          can be sourced from this look-up service: https://www.ebi.ac.uk/ols/ontologies/doid
          If the disease is not known, put \u201Cmissing\u201D."
        example: mastitis, gastroenteritis
        displayName: Host disease
        header: Host
      - name: signs_and_symptoms
        ontology_id: GENEPIO:0001400
        definition: A perceived change in function or sensation, (loss, disturbance or appearance)
          indicative of a disease, reported by a patient.
        guidance: Select all of the symptoms experienced by the host from the pick list.
        example: Cough [HP:0012735], Fever [HP:0001945],  Rigors (fever shakes) [HP:0025145]
        displayName: Signs and symptoms
        header: Host
      - name: host_health_state
        ontology_id: GENEPIO:0001388
        definition: Health status of the host at the time of sample collection.
        guidance: If known, select a value from the pick list.
        example: Asymptomatic [NCIT:C3833]
        displayName: Host Health State
        header: Host
      - name: host_health_outcome
        ontology_id: GENEPIO:0001390
        definition: Disease outcome in the host.
        guidance: If known, select a value from the pick list.
        example: Recovered [NCIT:C49498]
        displayName: Host Health Outcome
        header: Host
      - name: travel_history
        ontology_id: GENEPIO:0001416
        definition: Travel history in last six months.
        guidance: Specify the countries (and more granular locations if known) travelled
          in the last six months; can include multiple travels. Separate multiple travel
          events with a semicolon. Provide as free text.
        example: Canada, Vancouver; USA, Seattle; Italy, Milan
        displayName: Travel History
        header: Host
      - name: exposure_event
        ontology_id: GENEPIO:0001417
        definition: Event leading to exposure.
        guidance: If known, select the exposure event from the pick list.
        example: Mass Gathering [GENEPIO:0100237]
        displayName: Exposure event
        header: Host
      - name: host_role
        ontology_id: GENEPIO:0001419
        definition: The role of the host in relation to the exposure setting.
        guidance: Select the host's personal role(s) from the pick list provided in the
          template. If the desired term is missing, contact the curation team.
        example: Patient [OMRSE:00000030]
        displayName: Host role
        header: Host
      - name: exposure_setting
        ontology_id: GENEPIO:0001428
        definition: The setting leading to exposure.
        guidance: Select the host exposure setting(s) from the pick list provided in the
          template. If a desired term is missing, contact the curation team.
        example: Healthcare Setting [GENEPIO:0100201]
        displayName: Exposure setting
        header: Host
      - name: exposure_details
        ontology_id: GENEPIO:0001431
        definition: Additional host exposure information.
        guidance: Free text description of the exposure.
        example: 'Host role - Other: Bus Driver'
        displayName: Exposure details
        header: Host
      - name: previous_infection_disease
        definition: The name of the disease previously experienced by the host.
        guidance: Provide the name(s) of the previous of ongoing disease(s). Multiple diseases
          can be separated by a semi-colon.
        example: COVID-19
        displayName: Previous infection (disease)
        header: Host
      - name: previous_infection_organism
        definition: The name of the pathogen causing the disease previously experienced
          by the host.
        guidance: Provide the name(s) of the pathogen(s) causing the previous or ongoing
          infections. Multiple pathogen names can be separated using a semi-colon.
        example: Sudden Acute Respiratory Syndrome Coronavirus 2 (SARS-CoV-2)
        displayName: Previous infection (organism)
        header: Host
      - name: host_vaccination_status
        ontology_id: GENEPIO:0001404
        definition: The vaccination status of the host (fully vaccinated, partially vaccinated,
          or not vaccinated).
        guidance: Select the vaccination status of the host from the pick list.
        example: Fully Vaccinated [GENEPIO:0100100]
        displayName: Host Vaccination Status
        header: Host
      - name: purpose_of_sequencing
        ontology_id: GENEPIO:0001445
        definition: The reason that the sample was sequenced.
        guidance: The reason why a sample was originally collected may differ from the reason
          why it was selected for sequencing. The reason a sample was sequenced may provide
          information about potential biases in sequencing strategy. Provide the purpose
          of sequencing from the picklist in the template. The reason for sample collection
          should be indicated in the "purpose of sampling" field.
        example: Baseline surveillance (random sampling) [GENEPIO:0100005]
        displayName: Purpose Of Sequencing
        header: Sequencing
      - name: sequencing_date
        ontology_id: GENEPIO:0001447
        definition: The date the sample was sequenced.
        guidance: Provide the sequencing date in ISO 8601 standard format "YYYY-MM-DD".
        example: '2021-04-26'
        displayName: Sequencing Date
        type: date
        preprocessing:
          function: process_date
          inputs:
            date: sequencing_date
        header: Sequencing
      - name: amplicon_pcr_primer_scheme
        ontology_id: GENEPIO:0001456
        definition: The specifications of the primers (primer sequences, binding positions,
          fragment size generated etc) used to generate the amplicons to be sequenced.
        guidance: Provide the name and version of the primer scheme used to generate the
          amplicons for sequencing.
        example: https://github.com/joshquick/artic-ncov2019/blob/master/primer_schemes/nCoV-2019/V3/nCoV-2019.tsv
        displayName: Amplicon pcr primer scheme
        header: Sequencing
      - name: amplicon_size
        ontology_id: GENEPIO:0001449
        definition: The length of the amplicon generated by PCR amplification.
        guidance: Provide the amplicon size, including the units.
        example: 300bp
        displayName: Amplicon Size
        header: Sequencing
      - name: sequencing_instrument
        ontology_id: GENEPIO:0001452
        definition: The model of the sequencing instrument used.
        guidance: Select the sequencing instrument from the pick list.
        example: Oxford Nanopore MinION [GENEPIO:0100142]
        displayName: Sequencing Instrument
        header: Sequencing
      - name: sequencing_protocol
        ontology_id: GENEPIO:0001454
        definition: The protocol used to generate the sequence.
        guidance: 'Provide a free text description of the methods and materials used to
          generate the sequence. Suggested text, fill in information where indicated.: "Viral
          sequencing was performed following a tiling amplicon strategy using the <fill
          in> primer scheme. Sequencing was performed using a <fill in> sequencing instrument.
          Libraries were prepared using <fill in> library kit. "'
        example: Genomes were generated through amplicon sequencing of 1200 bp amplicons
          with Freed schema primers. Libraries were created using Illumina DNA Prep kits,
          and sequence data was produced using Miseq Micro v2 (500 cycles) sequencing kits.
        displayName: Sequencing protocol
        header: Sequencing
      - name: sequencing_assay_type
        ontology_id: GENEPIO:0100997
        definition: The overarching sequencing methodology that was used to determine the
          sequence of a biomaterial.
        guidance: 'Example Guidance: Provide the name of the DNA or RNA sequencing technology
          used in your study. If unsure refer to the protocol documentation, or provide
          a null value.'
        example: whole genome sequencing assay [OBI:0002117]
        displayName: Sequencing Assay Type
        header: Sequencing
      - name: sequenced_by_organization
        ontology_id: GENEPIO:0100416
        definition: The name of the agency, organization or institution responsible for
          sequencing the isolate's genome.
        guidance: Provide the name of the agency, organization or institution that performed
          the sequencing in full (avoid abbreviations). If the information is unknown or
          cannot be provided, leave blank or provide a null value.
        example: Public Health Agency of Canada (PHAC) [GENEPIO:0100551]
        displayName: Sequenced By
        header: Sequencing
      - name: sequenced_by_contact_name
        ontology_id: GENEPIO:0100471
        definition: The name or title of the contact responsible for follow-up regarding
          the sequence.
        guidance: Provide the name of an individual or their job title. As personnel turnover
          may render the contact's name obsolete, it is more prefereable to provide a job
          title for ensuring accuracy of information and institutional memory. If the information
          is unknown or cannot be provided, leave blank or provide a null value.
        example: Enterics Lab Manager
        displayName: Sequenced By Contact Name
        header: Sequencing
      - name: sequenced_by_contact_email
        ontology_id: GENEPIO:0100422
        definition: The email address of the contact responsible for follow-up regarding
          the sequence.
        guidance: Provide the email associated with the listed contact. As personnel turnover
          may render an individual's email obsolete, it is more prefereable to provide an
          address for a position or lab, to ensure accuracy of information and institutional
          memory. If the information is unknown or cannot be provided, leave blank or provide
          a null value.
        example: enterics@lab.ca
        displayName: Sequenced By Contact Email
        header: Sequencing
      - name: raw_sequence_data_processing_method
        ontology_id: GENEPIO:0001458
        definition: The method used for raw data processing such as removing barcodes, adapter
          trimming, filtering etc.
        guidance: Provide the name and version numbers of the software used to process the
          raw data.
        example: Porechop 0.2.3
        displayName: Raw sequence data processing method
        header: Sequencing
      - name: dehosting_method
        ontology_id: GENEPIO:0001459
        definition: The method used to remove host reads from the pathogen sequence.
        guidance: Provide the name and version number of the software used to remove host
          reads.
        example: Nanostripper 1.2.3
        displayName: Dehosting method
        header: Sequencing
      - name: reference_genome_accession
        ontology_id: GENEPIO:0001485
        definition: A persistent, unique identifier of a genome database entry.
        guidance: Provide the accession number of the reference genome used for mapping/assembly.
        example: NC_045512.2
        displayName: Reference genome accession
        header: Sequencing
      - name: consensus_sequence_software_name
        ontology_id: GENEPIO:0001463
        definition: The name of software used to generate the consensus sequence.
        guidance: Provide the name of the software used to generate the consensus sequence.
        example: Ivar
        displayName: Consensus sequence software name
        header: Sequencing
      - name: consensus_sequence_software_version
        ontology_id: GENEPIO:0001469
        definition: The version of the software used to generate the consensus sequence.
        guidance: Provide the version of the software used to generate the consensus sequence.
        example: '1.3'
        displayName: Consensus sequence software version
        header: Sequencing
      - name: depth_of_coverage
        ontology_id: GENEPIO:0001474
        definition: The average number of reads representing a given nucleotide in the reconstructed
          sequence.
        guidance: Provide value as a fold of coverage (as a number).
        example: 400
        displayName: Depth of coverage
        type: int
        header: Sequencing
      - name: breadth_of_coverage
        ontology_id: GENEPIO:0001475
        definition: The threshold used as a cut-off for the depth of coverage.
        guidance: Provide the threshold fold coverage (as a number)
        example: 100
        displayName: Breadth of coverage
        type: int
        header: Sequencing
      - name: quality_control_method_name
        ontology_id: GENEPIO:0100557
        definition: The name of the method used to assess whether a sequence passed a predetermined
          quality control threshold.
        guidance: Providing the name of the method used for quality control is very important
          for interpreting the rest of the QC information. Method names can be provided
          as the name of a pipeline or a link to a GitHub repository. Multiple methods should
          be listed and separated by a semi-colon. Do not include QC tags in other fields
          if no method name is provided.
        example: ncov-tools
        displayName: Quality control method name
        header: Sequencing
      - name: quality_control_method_version
        ontology_id: GENEPIO:0100558
        definition: The version number of the method used to assess whether a sequence passed
          a predetermined quality control threshold.
        guidance: Methods updates can make big differences to their outputs. Provide the
          version of the method used for quality control. The version can be expressed using
          whatever convention the developer implements (e.g. date, semantic versioning).
          If multiple methods were used, record the version numbers in the same order as
          the method names. Separate the version numbers using a semi-colon.
        example: "1.2.3"
        displayName: Quality control method version
        header: Sequencing
      - name: quality_control_determination
        ontology_id: GENEPIO:0100559
        definition: The determination of a quality control assessment.
        guidance: Select a value from the pick list provided. If a desired value is missing,
          submit a new term request to the PHA4GE QC Tag GitHub issuetracker using the New
          Term Request form.
        example: sequence failed quality control
        displayName: Quality control determination
        header: Sequencing
      - name: quality_control_issues
        ontology_id: GENEPIO:0100560
        definition: The reason contributing to, or causing, a low quality determination
          in a quality control assessment.
        guidance: Select a value from the pick list provided. If a desired value is missing,
          submit a new term request to the PHA4GE QC Tag GitHub issuetracker using the New
          Term Request form.
        example: low average genome coverage
        displayName: Quality control issues
        header: Sequencing
      - name: quality_control_details
        ontology_id: GENEPIO:0100561
        definition: The details surrounding a low quality determination in a quality control
          assessment.
        guidance: Provide notes or details regarding QC results using free text.
        example: CT value of 39. Low viral load. Low DNA concentration after amplification.
        displayName: Quality control details
        header: Diagnostics
      - name: diagnostic_measurement_method
        displayName: Diagnostic measurement method
        header: Diagnostics
      - name: diagnostic_target_presence
        displayName: Diagnostic target presence
        header: Diagnostics
      - name: diagnostic_target_gene_name
        displayName: Gene name
        header: Diagnostics
      - name: diagnostic_measurement_value
        displayName: Diagnostic measurement value
        header: Diagnostics
      - name: diagnostic_measurement_unit
        displayName: Diagnostic measurement unit
        header: Diagnostics
      - name: ncbi_completeness
        generateIndex: true
        autocomplete: true
        header: "INSDC"
        noInput: true
      - name: length
        type: int
        header: "Alignment states and QC metrics"
        noInput: true
        rangeSearch: true
      - name: host_name_scientific
        generateIndex: true
        autocomplete: true
        header: "Host"
        ingest: ncbi_host_name
      - name: host_name_common
        generateIndex: true
        autocomplete: true
        header: "Host"
      - name: host_taxon_id
        type: int
        autocomplete: true
        customDisplay:
          type: link
          url: "https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=info&id=__value__"
        header: "Host"
        ingest: ncbi_host_tax_id
      - name: is_lab_host
        generateIndex: true
        autocomplete: true
        header: "Host"
        ingest: ncbi_is_lab_host
        noInput: true
      - name: cell_line
        generateIndex: true
        autocomplete: true
        header: "Host"
      - name: passage_number
        type: int
        header: "Host"
      - name: passage_method
        generateIndex: true
        autocomplete: true
        header: "Host"
      - name: ncbi_length
        type: int
        header: "INSDC"
        noInput: true
      - name: ncbi_protein_count
        type: int
        header: "INSDC"
        hideOnSequenceDetailsPage: true
        noInput: true
      - name: ncbi_sourcedb
        generateIndex: true
        autocomplete: true
        header: "INSDC"
        hideOnSequenceDetailsPage: true
        noInput: true
      - name: ncbi_virus_name
        generateIndex: true
        autocomplete: true
        hideOnSequenceDetailsPage: true
        noInput: true
        header: "INSDC"
      - name: ncbi_virus_tax_id
        type: int
        autocomplete: true
        customDisplay:
          type: link
          url: "https://www.ncbi.nlm.nih.gov/labs/virus/vssi/#/virus?SeqType_s=Nucleotide&VirusLineage_ss=taxid:__value__"
        hideOnSequenceDetailsPage: true
        noInput: true
        header: "INSDC"
      - name: sra_run_accession
        customDisplay:
          type: link
          url: "https://www.ncbi.nlm.nih.gov/sra/?term=__value__"
        header: "INSDC"
        ingest: ncbi_sra_accessions
      - name: total_snps
        type: int
        header: "Alignment states and QC metrics"
        noInput: true
        rangeSearch: true
        preprocessing:
          args: { type: int }
          inputs: { input: nextclade.totalSubstitutions }
      - name: total_inserted_nucs
        type: int
        header: "Alignment states and QC metrics"
        noInput: true
        rangeSearch: true
        preprocessing:
          args: { type: int }
          inputs: { input: nextclade.totalInsertions }
      - name: total_deleted_nucs
        type: int
        header: "Alignment states and QC metrics"
        noInput: true
        rangeSearch: true
        preprocessing:
          args: { type: int }
          inputs: { input: nextclade.totalDeletions }
      - name: total_ambiguous_nucs
        type: int
        header: "Alignment states and QC metrics"
        noInput: true
        rangeSearch: true
        preprocessing:
          args: { type: int }
          inputs: { input: "nextclade.totalNonACGTNs" }
      - name: total_unknown_nucs
        type: int
        header: "Alignment states and QC metrics"
        noInput: true
        rangeSearch: true
        preprocessing:
          args: { type: int }
          inputs: { input: nextclade.totalMissing }
      - name: total_frame_shifts
        type: int
        rangeSearch: true
        header: "Alignment states and QC metrics"
        noInput: true
        preprocessing:
          args: { type: int }
          inputs: { input: nextclade.totalFrameShifts }
      - name: frame_shifts
        header: "Alignment states and QC metrics"
        noInput: true
        preprocessing:
          inputs: { input: nextclade.frameShifts }
      - name: completeness
        type: float
        header: "Alignment states and QC metrics"
        noInput: true
        preprocessing:
          args: { type: float }
          inputs: { input: nextclade.coverage }
      - name: total_stop_codons
        type: int
        header: "Alignment states and QC metrics"
        noInput: true
        preprocessing:
          args: { type: int }
          inputs: { input: nextclade.qc.stopCodons.totalStopCodons }
      - name: stop_codons
        header: "Alignment states and QC metrics"
        noInput: true
        preprocessing:
          inputs: { input: nextclade.qc.stopCodons.stopCodons }
    website: &website
      tableColumns:
        - sample_collection_date
        - ncbi_release_date
        - authors
        - author_affiliations
        - geo_loc_country
        - geo_loc_admin_1
        - length
      defaultOrderBy: sample_collection_date
      defaultOrder: descending
    silo:
      dateToSortBy: sample_collection_date
    extraInputFields: &extraInputFields
      - name: submissionId
        displayName: Submission ID
        definition: FASTA ID
        guidance: Used to match the sequence(s) to the metadata
        example: GJP123
        position: first
  preprocessing:
    - &preprocessing
      version: 1
      image: ghcr.io/loculus-project/preprocessing-nextclade
      args:
        - "prepro"
      configFile: &preprocessingConfigFile
        log_level: DEBUG
        nextclade_dataset_name: nextstrain/ebola/zaire
        genes: [ NP, VP35, VP40, GP, sGP, ssGP, VP30, VP24, L ]
        batch_size: 100
  ingest: &ingest
    image: ghcr.io/loculus-project/ingest
    configFile: &ingestConfigFile
      taxon_id: 186538
  referenceGenomes:
    nucleotideSequences:
      - name: "main"
        sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-zaire/reference.fasta]]"
    genes:
      - name: NP
        sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-zaire/NP.fasta]]"
      - name: VP35
        sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-zaire/VP35.fasta]]"
      - name: VP40
        sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-zaire/VP40.fasta]]"
      - name: GP
        sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-zaire/GP.fasta]]"
      - name: ssGP
        sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-zaire/ssGP.fasta]]"
      - name: sGP
        sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-zaire/sGP.fasta]]"
      - name: VP30
        sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-zaire/VP30.fasta]]"
      - name: VP24
        sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-zaire/VP24.fasta]]"
      - name: L
        sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-zaire/L.fasta]]"
defaultOrganisms:
  ebola-zaire:
    <<: *defaultOrganismConfig
    preprocessing:
    - <<: *preprocessing
      configFile:
        <<: *preprocessingConfigFile
        nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/ebola/data_output
        nextclade_dataset_name: nextstrain/ebola/zaire
  ebola-sudan:
    <<: *defaultOrganismConfig
    schema:
      <<: *schema
      organismName: "Ebola Sudan"
      image: "https://www.nih.gov/sites/default/files/styles/featured_media_breakpoint-medium/public/news-events/news-releases/2023/niaid-03.jpg?itok=m4wFNGkn&timestamp=1675437186"
    preprocessing:
    - <<: *preprocessing
      configFile:
        <<: *preprocessingConfigFile
        nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/ebola/data_output
        nextclade_dataset_name: nextstrain/ebola/sudan
    ingest:
      <<: *ingest
      configFile:
        taxon_id: 3052460
    referenceGenomes:
      nucleotideSequences:
        - name: "main"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-sudan/reference.fasta]]"
      genes:
        - name: NP
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-sudan/NP.fasta]]"
        - name: VP35
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-sudan/VP35.fasta]]"
        - name: VP40
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-sudan/VP40.fasta]]"
        - name: GP
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-sudan/GP.fasta]]"
        - name: ssGP
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-sudan/ssGP.fasta]]"
        - name: sGP
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-sudan/sGP.fasta]]"
        - name: VP30
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-sudan/VP30.fasta]]"
        - name: VP24
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-sudan/VP24.fasta]]"
        - name: L
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/ebola-sudan/L.fasta]]"
  mpox:
    <<: *defaultOrganismConfig
    schema:
      <<: *schema
      organismName: "Mpox Virus"
      image: "https://cdn.who.int/media/images/default-source/health-topics/monkeypox/12763.tmb-1200v.jpg?sfvrsn=cd044fbd_37"
      metadataAdd:
        - name: clade
          header: "Clade & Lineage"
          noInput: true
          generateIndex: true
          autocomplete: true
          initiallyVisible: true
          preprocessing:
            inputs: { input: nextclade.clade }
        - name: outbreak
          header: "Clade & Lineage"
          noInput: true
          generateIndex: true
          autocomplete: true
          preprocessing:
            inputs: { input: nextclade.customNodeAttributes.outbreak }
        - name: lineage
          header: "Clade & Lineage"
          noInput: true
          generateIndex: true
          autocomplete: true
          initiallyVisible: true
          preprocessing:
            inputs: { input: nextclade.customNodeAttributes.lineage }
      website:
        <<: *website
        tableColumns:
          - sample_collection_date
          - ncbi_release_date
          - authors
          - author_affiliations
          - geo_loc_country
          - length 
          - clade
          - lineage
        defaultOrderBy: sample_collection_date
        defaultOrder: descending
    preprocessing:
    - <<: *preprocessing
      configFile:
        <<: *preprocessingConfigFile
        nextclade_dataset_name: nextstrain/mpox/all-clades
        batch_size: 5
        genes:
          - OPG001
    ingest:
      <<: *ingest
      configFile:
        <<: *ingestConfigFile
        taxon_id: 10244
        subsample_fraction: 0.1
    referenceGenomes:
      nucleotideSequences:
        - name: "main"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/mpox/reference.fasta]]"
      genes:
        - name: OPG001
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/mpox/OPG001.fasta]]"
  west-nile:
    <<: *defaultOrganismConfig
    schema:
      <<: *schema
      organismName: "West Nile Virus"
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1e/West_Nile_Virus_Image.jpg/256px-West_Nile_Virus_Image.jpg?20200815184100"
      metadataAdd:
        - name: lineage
          header: "Lineage"
          noInput: true
          generateIndex: true
          autocomplete: true
          initiallyVisible: true
          preprocessing:
            inputs: { input: nextclade.clade }
      website:
        <<: *website
        tableColumns:
          - sample_collection_date
          - ncbi_release_date
          - authors
          - author_affiliations
          - geo_loc_country
          - geo_loc_admin_1
          - length
          - lineage
        defaultOrderBy: sample_collection_date
        defaultOrder: descending
    preprocessing:
    - <<: *preprocessing
      configFile:
        <<: *preprocessingConfigFile
        nextclade_dataset_name: nextstrain/wnv/all-lineages
        nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/wnv/data_output
        genes: [ capsid, prM, env, NS1, NS2A, NS2B, NS3, NS4A, 2K, NS4B, NS5 ]
    ingest:
      <<: *ingest
      configFile:
         taxon_id: 3048448
    referenceGenomes:
      nucleotideSequences:
        - name: main
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/reference.fasta]]"
      genes:
        - name: 2K
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/2K.fasta]]"
        - name: NS1
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/NS1.fasta]]"
        - name: NS2A
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/NS2A.fasta]]"
        - name: NS2B
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/NS2B.fasta]]"
        - name: NS3
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/NS3.fasta]]"
        - name: NS4A
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/NS4A.fasta]]"
        - name: NS4B
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/NS4B.fasta]]"
        - name: NS5
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/NS5.fasta]]"
        - name: capsid
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/capsid.fasta]]"
        - name: env
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/env.fasta]]"
        - name: prM
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/west-nile/prM.fasta]]"
  dummy-organism:
    schema:
      image: "https://www.un.org/sites/un2.un.org/files/field/image/1583952355.1997.jpg"
      organismName: "Test Dummy Organism"
      metadata:
        - name: date
          type: date
          initiallyVisible: true
          header: "Collection Details"
        - name: region
          type: string
          initiallyVisible: true
          generateIndex: true
          autocomplete: true
          header: "Collection Details"
        - name: country
          initiallyVisible: true
          type: string
          generateIndex: true
          autocomplete: true
          header: "Collection Details"
        - name: division
          initiallyVisible: true
          type: string
          generateIndex: true
          autocomplete: true
          header: "Collection Details"
        - name: host
          initiallyVisible: true
          type: string
          autocomplete: true
          header: "Collection Details"
        - name: pango_lineage
          initiallyVisible: true
          type: pango_lineage
          autocomplete: true
          required: true
      website:
        tableColumns:
          - country
          - division
          - date
          - pango_lineage
        defaultOrder: descending
        defaultOrderBy: date
      silo:
        dateToSortBy: date
        partitionBy: pango_lineage
    preprocessing:
      - version: 1
        image: ghcr.io/loculus-project/preprocessing-dummy
        args:
          - "--watch"
          - "--withWarnings"
          - "--withErrors"
          - "--randomWarnError"
    referenceGenomes:
      nucleotideSequences:
        - name: "main"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/reference.fasta]]"
      genes:
        - name: "E"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/E.fasta]]"
        - name: "M"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/M.fasta]]"
        - name: "N"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/N.fasta]]"
        - name: "ORF1a"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/ORF1a.fasta]]"
        - name: "ORF1b"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/ORF1b.fasta]]"
        - name: "ORF3a"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/ORF3a.fasta]]"
        - name: "ORF6"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/ORF6.fasta]]"
        - name: "ORF7a"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/ORF7a.fasta]]"
        - name: "ORF7b"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/ORF7b.fasta]]"
        - name: "ORF8"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/ORF8.fasta]]"
        - name: "ORF9b"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/ORF9b.fasta]]"
        - name: "S"
          sequence: "[[URL:https://raw.githubusercontent.com/corneliusroemer/seqs/main/artefacts/sars-cov-2/S.fasta]]"
auth:
  smtp:
    host: "in-v3.mailjet.com"
    port: 587
    user: "fafd505de339dd2e9c3e85ad9981af8a"
    replyTo: "noreply@loculus.org"
    from: "noreply@loculus.org"
    envelopeFrom: "noreply@loculus.org"
  verifyEmail: true
  resetPasswordAllowed: true
insecureCookies: false
bannerMessage: "This is a development environment. Data will not be persisted."
additionalHeadHTML: '<script defer data-domain="main.loculus.org" src="https://plausible.io/js/script.js"></script>'
images:
  lapisSilo: "ghcr.io/genspectrum/lapis-silo:0.2.1"
  lapis: "ghcr.io/genspectrum/lapis-v2:0.2.2"
secrets:
  smtp-password:
    type: raw
    data:
      secretKey: not_configured
  backend-keycloak-client-secret:
    type: autogen
    data:
      backendKeycloakClientSecret: ""
  database:
    type: raw
    data:
      url: "jdbc:postgresql://loculus-database-service/loculus"
      username: "postgres"
      password: "password"
  keycloak-database:
    type: raw
    data:
      addr: "loculus-keycloak-database-service"
      database: "keycloak"
      username: "postgres"
      password: "unsecure"
      port: "5432"
  crossref:
    type: raw
    data:
      username: "dummy"
      testPassword: "dummy"
      livePassword: "dummy"
  service-accounts:
    type: autogen
    data:
      insdcIngestUserPassword: ""
      dummyPreprocessingPipelinePassword: ""
      siloImportJobPassword: ""
      backendUserPassword: ""
  keycloak-admin:
    type: raw
    data:
      initialAdminPassword: "admin"
  orcid:
    type: raw
    data:
      orcidSecret: "dummy"
enableCrossRefCredentials: true
runDevelopmentKeycloakDatabase: true
runDevelopmentMainDatabase: true

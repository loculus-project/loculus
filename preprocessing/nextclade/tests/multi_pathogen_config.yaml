# Expects that only a single segment is present per sequence entry.
batch_size: 100
alignment_requirement: ALL
log_level: DEBUG
minimizer_url: TEST
nextclade_dataset_server: TEST
nextclade_sequence_and_datasets:
- name: ebola-sudan
  nextclade_dataset_name: ebola-dataset/ebola-sudan
  accepted_sort_matches: ebola-sudan
  genes: [NPEbolaSudan, VP35EbolaSudan, LEbolaSudan]
- name: ebola-zaire
  nextclade_dataset_name: ebola-dataset/ebola-zaire
  accepted_sort_matches: ebola-zaire
  genes: [VP24EbolaZaire, LEbolaZaire]
organism: multi-ebola-test
processing_spec:
  subtype:
    args:
      type: str
    function: identity
    inputs:
      input: ASSIGNED_SEGMENT
    required: true
  totalSnps:
    args:
      useFirstSegment: true
      type: int
    function: identity
    inputs:
      input: nextclade.totalSubstitutions
  totalInsertedNucs:
    args:
      useFirstSegment: true
      type: int
    function: identity
    inputs:
      input: nextclade.totalInsertions
  length:
    args:
      useFirstSegment: true
      type: int
    function: identity
    inputs:
      input: length_ebola-sudan

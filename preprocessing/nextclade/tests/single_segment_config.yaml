batch_size: 100
log_level: DEBUG
nextclade_dataset_server: TEST
scientific_name: "Test Ebola Sudan Virus"
molecule_type: "genomic RNA"
topology: "linear"
db_name: "Loculus"
segments:
  - name: main
    references:
    - nextclade_dataset_name: ebola-sudan
      genes: [NPEbolaSudan, VP35EbolaSudan]
organism: ebola-sudan-test
processing_spec:
  completeness:
    args:
      type: float
    function: identity
    inputs:
      input: nextclade.coverage
  totalInsertedNucs:
    args:
      type: int
    function: identity
    inputs:
      input: nextclade.totalInsertions
  totalSnps:
    args:
      type: int
    function: identity
    inputs:
      input: nextclade.totalSubstitutions
  totalDeletedNucs:
    args:
      type: int
    function: identity
    inputs:
      input: nextclade.totalDeletions
  nonExistentField: # Regression test for #5628
    args:
      type: str
    function: identity
    inputs:
      input: nextclade.some.non.existent.path
  length:
    args:
      type: int
    function: identity
    inputs:
      input: length
  variant:
    function: is_above_threshold
    args:
      threshold: 0
      type: bool
    inputs:
      input: "nextclade.totalSubstitutions"

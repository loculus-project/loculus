<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1192px" preserveAspectRatio="none" style="width:1163px;height:1192px;" version="1.1" viewBox="0 0 1163 1192" width="1163px" zoomAndPan="magnify"><defs><filter height="300%" id="f13w93etv21770" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f13w93etv21770)" height="148.4688" style="stroke: #000000; stroke-width: 2.0;" width="1129.5" x="13" y="111.4297"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="1129.5" x="13" y="215.9609"/><rect fill="#FFFFFF" filter="url(#f13w93etv21770)" height="614.7891" style="stroke: #000000; stroke-width: 2.0;" width="1139.5" x="13" y="313.0313"/><rect fill="#FFFFFF" filter="url(#f13w93etv21770)" height="100.5313" style="stroke: #000000; stroke-width: 2.0;" width="603.5" x="125" y="511.9609"/><rect fill="#FFFFFF" filter="url(#f13w93etv21770)" height="135.6641" style="stroke: #000000; stroke-width: 2.0;" width="602" x="540.5" y="626.4922"/><rect fill="#FFFFFF" height="60.2656" style="stroke: none; stroke-width: 1.0;" width="602" x="540.5" y="701.8906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="130" x2="130" y1="65.2969" y2="1119.6172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="392" x2="392" y1="65.2969" y2="1119.6172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="634.5" x2="634.5" y1="65.2969" y2="1119.6172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1096.5" x2="1096.5" y1="65.2969" y2="1119.6172"/><rect fill="#E0FFFF" filter="url(#f13w93etv21770)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="23" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="197" x="30" y="49.9951">Pathoplexus Frontend / User</text><rect fill="#E0FFFF" filter="url(#f13w93etv21770)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="23" y="1118.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="197" x="30" y="1138.6123">Pathoplexus Frontend / User</text><rect fill="#90EE90" filter="url(#f13w93etv21770)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="297" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="304" y="49.9951">(Pre-)Processing Pipeline</text><rect fill="#90EE90" filter="url(#f13w93etv21770)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="297" y="1118.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="304" y="1138.6123">(Pre-)Processing Pipeline</text><rect fill="#FFA500" filter="url(#f13w93etv21770)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="550.5" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="557.5" y="49.9951">Pathoplexus Backend</text><rect fill="#FFA500" filter="url(#f13w93etv21770)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="550.5" y="1118.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="557.5" y="1138.6123">Pathoplexus Backend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="1060.5" y="61.9951">Database</text><path d="M1078.5,13 C1078.5,3 1096.5,3 1096.5,3 C1096.5,3 1114.5,3 1114.5,13 L1114.5,39 C1114.5,49 1096.5,49 1096.5,49 C1096.5,49 1078.5,49 1078.5,39 L1078.5,13 " fill="#FEFECE" filter="url(#f13w93etv21770)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1078.5,13 C1078.5,23 1096.5,23 1096.5,23 C1096.5,23 1114.5,23 1114.5,13 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="1060.5" y="1131.6123">Database</text><path d="M1078.5,1144.9141 C1078.5,1134.9141 1096.5,1134.9141 1096.5,1134.9141 C1096.5,1134.9141 1114.5,1134.9141 1114.5,1144.9141 L1114.5,1170.9141 C1114.5,1180.9141 1096.5,1180.9141 1096.5,1180.9141 C1096.5,1180.9141 1078.5,1180.9141 1078.5,1170.9141 L1078.5,1144.9141 " fill="#FEFECE" filter="url(#f13w93etv21770)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1078.5,1144.9141 C1078.5,1154.9141 1096.5,1154.9141 1096.5,1154.9141 C1096.5,1154.9141 1114.5,1154.9141 1114.5,1144.9141 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><polygon fill="#A80036" points="622.5,92.4297,632.5,96.4297,622.5,100.4297,626.5,96.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="130.5" x2="628.5" y1="96.4297" y2="96.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="137.5" y="91.3638">submit initial sequence data</text><path d="M13,111.4297 L77,111.4297 L77,118.4297 L67,128.4297 L13,128.4297 L13,111.4297 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="148.4688" style="stroke: #000000; stroke-width: 2.0;" width="1129.5" x="13" y="111.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="124.4966">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="261" x="92" y="123.6401">[Sequence and Metadata Files are valid]</text><polygon fill="#A80036" points="141.5,145.6953,131.5,149.6953,141.5,153.6953,137.5,149.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="135.5" x2="633.5" y1="149.6953" y2="149.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="147.5" y="144.6294">response with accessions</text><polygon fill="#A80036" points="1084.5,174.8281,1094.5,178.8281,1084.5,182.8281,1088.5,178.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="178.8281" y2="178.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="641.5" y="173.7622">Store initial sequence data</text><polygon fill="#A80036" points="1084.5,203.9609,1094.5,207.9609,1084.5,211.9609,1088.5,207.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="207.9609" y2="207.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="641.5" y="202.895">set status to 'RECEIVED'</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1142.5" y1="216.9609" y2="216.9609"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="273" x="18" y="227.1714">[Sequence and Metadata Files are invalid]</text><polygon fill="#A80036" points="141.5,247.8984,131.5,251.8984,141.5,255.8984,137.5,251.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="135.5" x2="633.5" y1="251.8984" y2="251.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="147.5" y="246.8325">response with error</text><path d="M135,271.8984 L135,296.8984 L546,296.8984 L546,281.8984 L536,271.8984 L135,271.8984 " fill="#FBFB77" filter="url(#f13w93etv21770)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M536,271.8984 L536,281.8984 L546,281.8984 L536,271.8984 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="390" x="141" y="288.9653">In the following we assume initial raw sequence data are valid</text><path d="M13,313.0313 L90,313.0313 L90,320.0313 L80,330.0313 L13,330.0313 L13,313.0313 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="614.7891" style="stroke: #000000; stroke-width: 2.0;" width="1139.5" x="13" y="313.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="28" y="326.0981">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="175" x="105" y="325.2417">[until no processing errors]</text><polygon fill="#A80036" points="622.5,347.2969,632.5,351.2969,622.5,355.2969,626.5,351.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="392.5" x2="628.5" y1="351.2969" y2="351.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="399.5" y="346.231">Query initial/edited sequence data</text><polygon fill="#A80036" points="1084.5,376.4297,1094.5,380.4297,1084.5,384.4297,1088.5,380.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="380.4297" y2="380.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="641.5" y="375.3638">Query initial/edited sequence data</text><polygon fill="#A80036" points="1084.5,405.5625,1094.5,409.5625,1084.5,413.5625,1088.5,409.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="409.5625" y2="409.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="400" x="641.5" y="404.4966">Set status from 'RECEIVED'/'HAS_ERRORS' to 'IN_PROCESSING'</text><polygon fill="#A80036" points="645.5,434.6953,635.5,438.6953,645.5,442.6953,641.5,438.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="639.5" x2="1095.5" y1="438.6953" y2="438.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="651.5" y="433.6294">initial/edited sequence data</text><polygon fill="#A80036" points="403.5,463.8281,393.5,467.8281,403.5,471.8281,399.5,467.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="397.5" x2="633.5" y1="467.8281" y2="467.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="409.5" y="462.7622">initial/edited sequence data</text><polygon fill="#A80036" points="622.5,492.9609,632.5,496.9609,622.5,500.9609,626.5,496.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="392.5" x2="628.5" y1="496.9609" y2="496.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="399.5" y="491.895">submit processed sequence data</text><path d="M125,511.9609 L189,511.9609 L189,518.9609 L179,528.9609 L125,528.9609 L125,511.9609 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="100.5313" style="stroke: #000000; stroke-width: 2.0;" width="603.5" x="125" y="511.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="140" y="525.0278">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="155" x="204" y="524.1714">[validation errors occur]</text><polygon fill="#A80036" points="403.5,546.2266,393.5,550.2266,403.5,554.2266,399.5,550.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="397.5" x2="633.5" y1="550.2266" y2="550.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="409.5" y="545.1606">response with validation errors</text><path d="M135,563.2266 L135,603.2266 L707,603.2266 L707,573.2266 L697,563.2266 L135,563.2266 " fill="#FBFB77" filter="url(#f13w93etv21770)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M697,563.2266 L697,573.2266 L707,573.2266 L697,563.2266 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="551" x="141" y="580.2935">Validation error are probably only redeemable by changing the pre-processing pipeline</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="380" x="141" y="595.4263">In the following we assume that no validation error occurred</text><path d="M540.5,626.4922 L604.5,626.4922 L604.5,633.4922 L594.5,643.4922 L540.5,643.4922 L540.5,626.4922 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="135.6641" style="stroke: #000000; stroke-width: 2.0;" width="602" x="540.5" y="626.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="555.5" y="639.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="343" x="619.5" y="638.7026">[processed sequence data contain processing errors]</text><polygon fill="#A80036" points="1084.5,660.7578,1094.5,664.7578,1084.5,668.7578,1088.5,664.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="664.7578" y2="664.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="641.5" y="659.6919">Store processed sequence data with errors</text><polygon fill="#A80036" points="1084.5,689.8906,1094.5,693.8906,1084.5,697.8906,1088.5,693.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="693.8906" y2="693.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="641.5" y="688.8247">set status to 'HAS_ERRORS'</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="540.5" x2="1142.5" y1="702.8906" y2="702.8906"/><polygon fill="#A80036" points="1084.5,721.0234,1094.5,725.0234,1084.5,729.0234,1088.5,725.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="725.0234" y2="725.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="641.5" y="719.9575">Store processed sequence data without errors</text><polygon fill="#A80036" points="1084.5,750.1563,1094.5,754.1563,1084.5,758.1563,1088.5,754.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="754.1563" y2="754.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="641.5" y="749.0903">set status to 'AWAITING_APPROVAL'</text><polygon fill="#A80036" points="622.5,786.2891,632.5,790.2891,622.5,794.2891,626.5,790.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="130.5" x2="628.5" y1="790.2891" y2="790.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="276" x="137.5" y="785.2231">query processed sequence data with errors</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="130.5" x2="172.5" y1="819.4219" y2="819.4219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="172.5" x2="172.5" y1="819.4219" y2="832.4219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="131.5" x2="172.5" y1="832.4219" y2="832.4219"/><polygon fill="#A80036" points="141.5,828.4219,131.5,832.4219,141.5,836.4219,137.5,832.4219" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="137.5" y="814.356">address errors and edit sequence data</text><polygon fill="#A80036" points="622.5,857.5547,632.5,861.5547,622.5,865.5547,626.5,861.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="130.5" x2="628.5" y1="861.5547" y2="861.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="137.5" y="856.4888">submit edited sequence data</text><polygon fill="#A80036" points="1084.5,886.6875,1094.5,890.6875,1084.5,894.6875,1088.5,890.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="890.6875" y2="890.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="641.5" y="885.6216">store edited sequence data</text><polygon fill="#A80036" points="1084.5,915.8203,1094.5,919.8203,1084.5,923.8203,1088.5,919.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="919.8203" y2="919.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="641.5" y="914.7544">set status to 'RECEIVED'</text><polygon fill="#A80036" points="622.5,951.9531,632.5,955.9531,622.5,959.9531,626.5,955.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="130.5" x2="628.5" y1="955.9531" y2="955.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="137.5" y="950.8872">Query processed sequence data</text><polygon fill="#A80036" points="1084.5,981.0859,1094.5,985.0859,1084.5,989.0859,1088.5,985.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="985.0859" y2="985.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="641.5" y="980.02">Query processed sequence data</text><polygon fill="#A80036" points="645.5,1010.2188,635.5,1014.2188,645.5,1018.2188,641.5,1014.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="639.5" x2="1095.5" y1="1014.2188" y2="1014.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="651.5" y="1009.1528">processed sequence data</text><polygon fill="#A80036" points="141.5,1039.3516,131.5,1043.3516,141.5,1047.3516,137.5,1043.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="135.5" x2="633.5" y1="1043.3516" y2="1043.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="147.5" y="1038.2856">processed sequence data</text><polygon fill="#A80036" points="622.5,1068.4844,632.5,1072.4844,622.5,1076.4844,626.5,1072.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="130.5" x2="628.5" y1="1072.4844" y2="1072.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="137.5" y="1067.4185">approve processed sequence data</text><polygon fill="#A80036" points="1084.5,1097.6172,1094.5,1101.6172,1084.5,1105.6172,1088.5,1101.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="1090.5" y1="1101.6172" y2="1101.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="438" x="641.5" y="1096.5513">set status from 'AWAITING_APPROVAL' to 'APPROVED_FOR_RELEASE'</text><!--MD5=[f8222d7f34a7854bac6ee5f36bfcb831]
@startuml
    participant "Pathoplexus Frontend / User" as frontend #LightCyan
    participant "(Pre-)Processing Pipeline" as processing #LightGreen
    participant "Pathoplexus Backend" as backend #Orange
    database "Database" as DB

    frontend -> backend: submit initial sequence data
    alt Sequence and Metadata Files are valid
        backend -> frontend: response with accessions
        backend -> DB: Store initial sequence data
        backend -> DB: set status to 'RECEIVED'
    else Sequence and Metadata Files are invalid
        backend -> frontend: response with error
    end

   note right of frontend
      In the following we assume initial raw sequence data are valid
   end note

    loop until no processing errors

        processing -> backend: Query initial/edited sequence data
        backend -> DB: Query initial/edited sequence data
        backend -> DB: Set status from 'RECEIVED'/'HAS_ERRORS' to 'IN_PROCESSING'
        DB - -> backend: initial/edited sequence data
        backend - -> processing: initial/edited sequence data

        processing -> backend: submit processed sequence data
        alt validation errors occur
            backend -> processing: response with validation errors
             note right of frontend
                  Validation error are probably only redeemable by changing the pre-processing pipeline
                  In the following we assume that no validation error occurred
               end note
        end loop

        alt processed sequence data contain processing errors
            backend -> DB: Store processed sequence data with errors
            backend -> DB: set status to 'HAS_ERRORS'
        else
            backend -> DB: Store processed sequence data without errors
            backend -> DB: set status to 'AWAITING_APPROVAL'
        end
         frontend -> backend: query processed sequence data with errors
        frontend -> frontend: address errors and edit sequence data

        frontend -> backend: submit edited sequence data
        backend -> DB: store edited sequence data
        backend -> DB: set status to 'RECEIVED'
    end loop


    frontend -> backend: Query processed sequence data
    backend -> DB: Query processed sequence data
    DB -> backend: processed sequence data
    backend -> frontend: processed sequence data

    frontend -> backend: approve processed sequence data
    backend -> DB: set status from 'AWAITING_APPROVAL' to 'APPROVED_FOR_RELEASE'

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.1+12-LTS
Operating System: Linux
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>
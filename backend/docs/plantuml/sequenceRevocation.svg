<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="518px" preserveAspectRatio="none" style="width:804px;height:518px;" version="1.1" viewBox="0 0 804 518" width="804px" zoomAndPan="magnify"><defs><filter height="300%" id="f1hyef98thtld9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1hyef98thtld9)" height="136.7969" style="stroke: #000000; stroke-width: 2.0;" width="779.5" x="13" y="111.4297"/><rect fill="#FFFFFF" height="31.1328" style="stroke: none; stroke-width: 1.0;" width="779.5" x="13" y="217.0938"/><rect fill="#FFFFFF" filter="url(#f1hyef98thtld9)" height="165.9297" style="stroke: #000000; stroke-width: 2.0;" width="779.5" x="13" y="262.2266"/><rect fill="#FFFFFF" height="90.5313" style="stroke: none; stroke-width: 1.0;" width="779.5" x="13" y="337.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="130" x2="130" y1="65.2969" y2="445.1563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="457.5" x2="457.5" y1="65.2969" y2="445.1563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="746.5" x2="746.5" y1="65.2969" y2="445.1563"/><rect fill="#E0FFFF" filter="url(#f1hyef98thtld9)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="23" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="197" x="30" y="49.9951">Pathoplexus Frontend / User</text><rect fill="#E0FFFF" filter="url(#f1hyef98thtld9)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="23" y="444.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="197" x="30" y="464.1514">Pathoplexus Frontend / User</text><rect fill="#FFA500" filter="url(#f1hyef98thtld9)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="373.5" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="380.5" y="49.9951">Pathoplexus Backend</text><rect fill="#FFA500" filter="url(#f1hyef98thtld9)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="373.5" y="444.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="380.5" y="464.1514">Pathoplexus Backend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="710.5" y="61.9951">Database</text><path d="M728.5,13 C728.5,3 746.5,3 746.5,3 C746.5,3 764.5,3 764.5,13 L764.5,39 C764.5,49 746.5,49 746.5,49 C746.5,49 728.5,49 728.5,39 L728.5,13 " fill="#FEFECE" filter="url(#f1hyef98thtld9)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M728.5,13 C728.5,23 746.5,23 746.5,23 C746.5,23 764.5,23 764.5,13 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="710.5" y="457.1514">Database</text><path d="M728.5,470.4531 C728.5,460.4531 746.5,460.4531 746.5,460.4531 C746.5,460.4531 764.5,460.4531 764.5,470.4531 L764.5,496.4531 C764.5,506.4531 746.5,506.4531 746.5,506.4531 C746.5,506.4531 728.5,506.4531 728.5,496.4531 L728.5,470.4531 " fill="#FEFECE" filter="url(#f1hyef98thtld9)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M728.5,470.4531 C728.5,480.4531 746.5,480.4531 746.5,480.4531 C746.5,480.4531 764.5,480.4531 764.5,470.4531 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><polygon fill="#A80036" points="445.5,92.4297,455.5,96.4297,445.5,100.4297,449.5,96.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="130.5" x2="451.5" y1="96.4297" y2="96.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="137.5" y="91.3638">wants to revoke already processed sequence</text><path d="M13,111.4297 L77,111.4297 L77,118.4297 L67,128.4297 L13,128.4297 L13,111.4297 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="136.7969" style="stroke: #000000; stroke-width: 2.0;" width="779.5" x="13" y="111.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="124.4966">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="432" x="92" y="123.6401">[accession exists and highest version is 'APPROVED_FOR_RELEASE']</text><polygon fill="#A80036" points="734.5,175.9609,744.5,179.9609,734.5,183.9609,738.5,179.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="457.5" x2="740.5" y1="179.9609" y2="179.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="464.5" y="144.6294">insert new version</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="464.5" y="159.7622">with status 'REVISION_STAGING'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="464.5" y="174.895">and ' is_revocation = true'</text><polygon fill="#A80036" points="141.5,205.0938,131.5,209.0938,141.5,213.0938,137.5,209.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="135.5" x2="456.5" y1="209.0938" y2="209.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="147.5" y="204.0278">response with accession + new version number</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="792.5" y1="218.0938" y2="218.0938"/><polygon fill="#A80036" points="141.5,236.2266,131.5,240.2266,141.5,244.2266,137.5,240.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="135.5" x2="456.5" y1="240.2266" y2="240.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="147.5" y="235.1606">response with error message</text><path d="M13,262.2266 L77,262.2266 L77,269.2266 L67,279.2266 L13,279.2266 L13,262.2266 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="165.9297" style="stroke: #000000; stroke-width: 2.0;" width="779.5" x="13" y="262.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="275.2935">alt</text><polygon fill="#A80036" points="445.5,296.4922,455.5,300.4922,445.5,304.4922,449.5,300.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="130.5" x2="451.5" y1="300.4922" y2="300.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="137.5" y="295.4263">confirms revocation</text><polygon fill="#A80036" points="734.5,325.625,744.5,329.625,734.5,333.625,738.5,329.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="457.5" x2="740.5" y1="329.625" y2="329.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="257" x="464.5" y="324.5591">set status to 'APPROVED_FOR_RELEASE'</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="792.5" y1="338.625" y2="338.625"/><polygon fill="#A80036" points="445.5,356.7578,455.5,360.7578,445.5,364.7578,449.5,360.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="130.5" x2="451.5" y1="360.7578" y2="360.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="137.5" y="355.6919">cancels revocation</text><polygon fill="#A80036" points="734.5,416.1563,744.5,420.1563,734.5,424.1563,738.5,420.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="457.5" x2="740.5" y1="420.1563" y2="420.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="464.5" y="384.8247">delete latest version</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="464.5" y="399.9575">of the sequence and Status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="464.5" y="415.0903">'AWAITING_APPROVAL_FOR_REVOCATION'</text><!--MD5=[2e505987ff427ee02239862d51f92474]
@startuml
    participant "Pathoplexus Frontend / User" as frontend #LightCyan
    participant "Pathoplexus Backend" as backend #Orange
    database "Database" as DB

    frontend -> backend: wants to revoke already processed sequence

     alt accession exists and highest version is 'APPROVED_FOR_RELEASE'
        backend -> DB: insert new version\nwith status 'REVISION_STAGING' \nand ' is_revocation = true'
    backend -> frontend: response with accession + new version number
    else
        backend -> frontend: response with error message
    end

    alt
        frontend -> backend: confirms revocation
        backend -> DB: set status to 'APPROVED_FOR_RELEASE'
    else
        frontend -> backend: cancels revocation
        backend -> DB: delete latest version \nof the sequence and Status \n'AWAITING_APPROVAL_FOR_REVOCATION'
    end
@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.1+12-LTS
Operating System: Linux
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>